<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Ricerca linguistica</title>
        <script src="https://unpkg.com/jspsych@7.3.0"></script>
        <script src="https://unpkg.com/@jspsych/plugin-html-keyboard-response@1.1.1"></script>
        <script src="https://unpkg.com/@jspsych/plugin-html-button-response@1.1.1"></script>
        <script src="https://unpkg.com/@jspsych/plugin-html-slider-response@1.0.0"></script>
        <script src="https://unpkg.com/@jspsych/plugin-survey-likert@1.1.2"></script>
        <script src="https://unpkg.com/@jspsych/plugin-instructions@1.1.3"></script>
        <script src="https://unpkg.com/@jspsych/plugin-survey-text@1.1.2"></script>
        <script src="https://unpkg.com/@jspsych/plugin-image-button-response@1.1.2"></script>
        <script src="https://unpkg.com/@jspsych/plugin-survey-multi-select@1.1.2"></script>
        <script src="https://unpkg.com/@jspsych/plugin-survey@0.2.1"></script>
        <script src="jatos.js"></script>
        <link rel="stylesheet" href="https://unpkg.com/@jspsych/plugin-survey@0.1.1/css/survey.css">
        <link href="https://unpkg.com/jspsych@7.3.0/css/jspsych.css" rel="stylesheet" type="text/css" />
    </head>

    <style>
	    .jspsych-content {
	      max-width: 75%;
	    }

	    .left-aligned {
	      text-align:left;
	    }
	  </style>

    <body></body>
   <script>

var jsPsych = initJsPsych({
  on_finish: function () {
        var resultJson = jsPsych.data.get().json();
        jatos.endStudy(resultJson, true, "Success!", true)
  },
});

//my stimuli
var groups = [
  [
  { sentence:"List 1 - Item 1"},
{ sentence:"List 1 - Item 2"},
{ sentence:"List 1 - Item 3"},
{ sentence:"List 1 - Item 4"},
{ sentence:"List 1 - Item 5"},
{ sentence:"List 1 - Item 6"},
{ sentence:"List 1 - Item 7"},
{ sentence:"List 1 - Item 8"},
{ sentence:"List 1 - Item 9"},
{ sentence:"List 1 - Item 10"}
  ],
  [
  { sentence:"List 2 - Item 1"},
{ sentence:"List 2 - Item 2"},
{ sentence:"List 2 - Item 3"},
{ sentence:"List 2 - Item 4"},
{ sentence:"List 2 - Item 5"},
{ sentence:"List 2 - Item 6"},
{ sentence:"List 2 - Item 7"},
{ sentence:"List 2 - Item 8"},
{ sentence:"List 2 - Item 9"},
{ sentence:"List 2 - Item 10"}
  ],
  [
  { sentence:"List 3 - Item 1"},
{ sentence:"List 3 - Item 2"},
{ sentence:"List 3 - Item 3"},
{ sentence:"List 3 - Item 4"},
{ sentence:"List 3 - Item 5"},
{ sentence:"List 3 - Item 6"},
{ sentence:"List 3 - Item 7"},
{ sentence:"List 3 - Item 8"},
{ sentence:"List 3 - Item 9"},
{ sentence:"List 3 - Item 10"}
  ],
  [
  { sentence:"List 4 - Item 1"},
{ sentence:"List 4 - Item 2"},
{ sentence:"List 4 - Item 3"},
{ sentence:"List 4 - Item 4"},
{ sentence:"List 4 - Item 5"},
{ sentence:"List 4 - Item 6"},
{ sentence:"List 4 - Item 7"},
{ sentence:"List 4 - Item 8"},
{ sentence:"List 4 - Item 9"},
{ sentence:"List 4 - Item 10"}
  ]
]

//creates the timeline, which atm is empty
timeline = []

var welcome = {
      type: jsPsychHtmlButtonResponse,
      stimulus: '<h2>Benvenuta/o!</h2> <p> <img src="https://julianagerard.com/UlsterU/media/ulster.jpg" width="250px" height="auto" align="center"> </p>',
      choices: ["<em>Avanti</em>"],
    };
    timeline.push(welcome)

//prepares them for the consent
var welcome_2 = {
      type: jsPsychHtmlButtonResponse,
      stimulus: '<h4> Grazie per il tuo interesse! </h4> <p>L\’esperimento inizierà a breve. Prima di iniziare, leggi e accetta il modulo per il consenso.</p>',      
      choices: ["<em>Procedi al modulo per il consenso</em>"],
    };

timeline.push(welcome_2)

//consent
var consent = {
  type: jsPsychHtmlButtonResponse,
  stimulus:
    "<h3>Modulo per il consenso</h3> <div align=left> <p><strong>Titolo del progetto</strong>: Estrazione da subordinate avverbiali in Italiano</span></span></span></p> <p><strong>Ricercatore</strong>: Gianluca Porta (<a href='mailto:porta-g@ulster.ac.uk'>porta-g@ulster.ac.uk</a>)</p> <p><strong>Relatori</strong>: Prof. Raffaella Folli (<a href='mailto: r.folli@ulster.ac.uk'>r.folli@ulster.ac.uk</a>), Dr. Christina Sevdali (<a href='mailto: c.sevdali@ulster.ac.uk'>c.sevdali@ulster.ac.uk</a>), Dr. Richard Stockwell (<a href='mailto: r.stockwell@ulster.ac.uk'>r.stockwell@ulster.ac.uk</a>).</p> <p><strong>Introduzione</strong> <br> Stai per prendere parte a un esperimento linguistico sull’italiano. Questo studio vuole raccogliere dati sull'accettabilità di alcune frasi in Italiano. Questi dati saranno usati per investigare il fenomeno delle isole sintattiche.</p> <p><strong>Procedimento</strong> <br> L\’esperimento si divide in due parti:<ol> <li>Nella prima parte ti sarà chiesto di compilare di un questionario demografico. Il questionario raccoglie informazioni sulla tua età, sul tuo livello di educazione, sulla tua conoscenza dell’inglese, e sulla regione nella quale sei cresciuto. Queste informazioni aiuteranno i ricercatori coinvolti in questo studio ad analizzare il cambiamento linguistico in atto.</li><li>Nella seconda parte dovrai valutare delle frasi usando una scala a 7 punti. Nella letteratura scientifica, questo tipo di azione si chiama giudizio di accettabilità. Ti sarà chiesto di valutare queste frasi a partire dalla tua intuizione linguistica.</li></ol>La partecipazione a questo studio è volontaria, e puoi scegliere di ritirarti dallo studio in qualunque momento chiudendo il browser.</p> <p><strong>Riservatezza</strong> <br>Soltanto i ricercatori i cui nomi sono stati presentati all’inizio di questa pagina potranno accedere ai dati dell’esperimento. Prima di qualsiasi utilizzo dei risultati (per insegnamento universitario, pubblicazioni scientifiche, o per conferenze) i dati saranno resi anonimi.</p> <p><strong>Rimborso</strong> <br>Non sono previsti rimborsi economici per la partecipazione a questo studio.</p> <p><strong>Contatti</strong><br> Contatta Gianluca Porta (<a href='mailto:porta-g@ulster.ac.uk'>porta-g@ulster.ac.uk</a>) per qualsiasi domanda relativa all\’esperimento.</p> <p><strong>Consenso</strong> <br>Procedendo all’esperimento, confermi di aver letto il modulo del consenso e di accettarne i termini, e confermi di voler prendere parte allo studio sopracitato.</p>",
  choices: ["Acconsento"],
};

timeline.push(consent)

//tells them what they are gonna see
var instruction_pre = {
  type: jsPsychHtmlButtonResponse,
      stimulus: '<h3> Grazie!</h3> <p> Ora sarai portato all\'esperimento.</p><p> L\'intero esperimento dura circa 15 minuti. Prima ci sarà il questionario demografico e, a seguire, le istruzioni per la parte linguistica. La seconda parte dell\'esperimento inizierà subito dopo le istruzioni.</p>',
      choices: ["<em>Procedi all'esperimento</em>"],

};

timeline.push(instruction_pre)

//demographics info
var bio_info = {
  type: jsPsychSurvey,
  pages: [
    [
      {
        type: 'html',
        prompt: 'Per favore, rispondi alle seguenti domande:',
      },
      {
        type: 'multi-choice',
        prompt: "Quanti anni hai?",
        name: 'age',
        options: ["18-24", "25-34", "35-44", "45-54", "55-64", "65+"],
        required: true
      },
      {
        type: 'drop-down',
        prompt: "Qual è il tuo genere?",
        name: 'gender',
        options: ["Uomo", "Donna", "Non-binario", "Altro", "Preferisco non dirlo",],
        required: true
      },
      {
        type: 'drop-down',
        prompt: "In quale regione sei cresciuto?",
        name: 'region',
        options: ['Abruzzo', 'Basilicata', 'Calabria', 'Campania', 'Emilia Romagna', 'Fiuli Venezia Giulia', 'Lazio', 'Liguria', 'Lombardia', 'Marche', 'Molise', 'Piemonte', 'Puglia', 'Sardegna', 'Sicilia', 'Toscana', 'Trentino Alto Adige', 'Umbria', 'Val d\'Aosta', 'Veneto'],
        required: true,
      },
      {
        type: 'drop-down',
        prompt: "Qual è il tuo livello di conoscenza dell'inglese?",
        name: 'english_level',
        options: ['Nullo', 'Basso (A1 e A2)', 'Medio (B1 e B2)', 'Alto (C1 e C2)'],
        required: true,
      },
      {
        type: 'text',
        prompt: "Parli altre lingue?", 
        placeholder: 'Francesce, Tedesco, Spagnolo, Giapponese...',
        name: 'other_languages', 
        required: false,
      },
      {
        type: 'multi-choice',
        prompt: "Qual è il tuo livello di educazione? Seleziona il titolo di livello più alto conseguito.",
        name: 'education',
        options: ['Maturità', 'Laurea Triennale', 'Laurea Magistrale', 'Master Universitario di I/II livello', 'Dottorato', 'Altro'],
        required: true,
      },
      {
        type: 'multi-choice',
        prompt: "Hai difficoltà linguistiche?",
        name: 'language_difficulty',
        options: ['Sì', 'No'],
        required: true,
      },

    ]
  ],
};

timeline.push(bio_info)

//instructions on what they have to do
var instructions = {
type: jsPsychInstructions,
pages: ['  <h2>Istruzioni</h2> <div align=left> <p>Lo scopo di questo esperimento è testare l\’accettabilità di alcune frasi in italiano.</p> <div align=left> <p>Adesso ti saranno presentate alcune frasi di prova. </p> <p>Sotto ogni frase troverei una scala, da 1 a 7. <strong>1</strong> è una frase <strong>totalmente inaccettabile</strong>, <strong>7</strong> è una frase <strong>perfettamente accettabile</strong>. Tenendo a mente questa distinzione, valuta come ti sembra la frase.</p><p>Rispondi il più <b>rapidamente</b> possibile, cercando di essere <b>accurata/o</b>. Ricordati di <b>usare l\’intera scala (1-7)</b>.</p><p>Basati unicamente sulla tua prima reazione, senza analizzare la frase.</p><p><b>Non ci sono risposte giuste e risposte sbagliate</b>: usa la tua intuizione per scegliere che voto dare alla frase. <p>Ogni frase verrà mostrata una volta e, dopo aver dato il voto, l\’esperimento passerà in automatico alla frase successiva. Una volta data un voto non si può tornare indietro.</p></div>', ' <h2> Esempi </h2> <div align=left> <p>Adesso vedrai qualche frase di esempio. </p><p> Questa è una frase <strong>accettabile</strong>:<ul><li>Maria ha comprato il maglione rosso che pensavo di regalarle a Natale.</li></ul>Questa, invece, è un frase <strong>inaccettabile</strong>: <ul><li>Maria che voglio regalarle il maglione rosso lo prendeva.</li></ul></p><p>Frasi <strong>lunghe</strong> possono essere <strong>accettabili</strong>: <ul> <li> Mio papà ha comprato il cane che mi piaceva nel negozio di animali che si trova in fondo a Via Roma.</li> </ul>E frasi <strong>brevi</strong> possono essere <strong> inaccettabili </strong>: <ul> <li> Mia papà comprarono il cane.</li></ul></p>'],
show_clickable_nav: true,
allow_backward: true,
};

timeline.push(instructions)


var btn_html = '<button class="jspsych-btn">%choice%</button>' //nice buttons

//practice sentences
var trial_practice = {
  type: jsPsychHtmlButtonResponse,
  prompt:
    "<p><em>Un parlante nativo di italiano pronuncerebbe questa frase?</em></p>",
   choices: ["1", "2", "3", "4", "5", "6", "7"],
    stimulus: jsPsych.timelineVariable("sentence_practice"),
    button_html: ['<p>Pessima        <button class="jspsych-btn">%choice%</button></p>', btn_html, btn_html, btn_html, btn_html, btn_html, '<p><button class="jspsych-btn">%choice%</button>        Ottima</p>']
};

var trial_practice_1 = {
timeline: [trial_practice],
		  timeline_variables: [
      { sentence_practice:"Practice sentence 1"},
      { sentence_practice:"Practice sentence 2"},
            ],
		};

timeline.push(trial_practice_1)

//final instruction screen: now they can begin
var instructions_final = {
  type: jsPsychHtmlButtonResponse,
  stimulus:'<p>Ottimo! </p><p>Ora inizia l\'esperimento. Ti ricordo che durerà circa 15 minuti.</p>',
  choices: ['Next'],
prompt: ""
};

timeline.push(instructions_final)

//trial structure
var trial_structure = { //the actual survey
  type: jsPsychHtmlButtonResponse,
  prompt:
    "<p><em>Un parlante nativo di italiano pronuncerebbe questa frase?</em></p>",
   choices: ["1", "2", "3", "4", "5", "6", "7"],
    stimulus: jsPsych.timelineVariable("sentence"),
    button_html: ['<p>Pessima        <button class="jspsych-btn">%choice%</button></p>', btn_html, btn_html, btn_html, btn_html, btn_html, '<p><button class="jspsych-btn">%choice%</button>        Ottima</p>']
};


 var trial_1 = {
timeline: [trial_structure],
		  timeline_variables: groups[Math.floor(Math.random() * groups.length)] //takes a random group, feeds the sentences to the survey
		};

timeline.push(trial_1)

//a nice thank you
var exit_message = {
			type: jsPsychHtmlButtonResponse,
			stimulus: '<h2> Grazie! </h2> <p>Finito! Grazie mille per il tuo tempo e per l\'aiuto.</p> <p> Hai qualche domanda? Contatta Gianluca Porta a <a href="mailto:porta-g@ulster.ac.uk">porta-g@ulster.ac.uk</a>. </p>',
			choices: ['Finito']
		};

timeline.push(exit_message)

timeline.push(exit_message)

jatos.onLoad(() => {
  jsPsych.run(timeline);
});


   </script>

</html>
